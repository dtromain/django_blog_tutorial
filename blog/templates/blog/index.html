{% extends 'blog/layouts/base.html' %}

{% block content %}
    <h1>Blog ({{ posts|length }} post{{ posts|length|pluralize }})</h1>
        {% for post in posts %}
            <article>
                <h2><a href="{% url 'blog:post' post.id %}">#{{ post.id }} - {{ post.title|upper }}</a></h2>
                <p>{{ post.body|truncatewords:3 }}</p>
                <a href="{% url 'blog:post' post.id %}">Lire la suite</a>
            </article>

            {% if not forloop.last %}
                <hr/>
            {% endif %}

        {% empty %}
            <p>No post available !</p>
        {% endfor %}
{% endblock %}